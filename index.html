<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timetable Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="data:application/manifest+json,{
        'name': 'Timetable Tracker',
        'short_name': 'Tracker',
        'start_url': '.',
        'display': 'standalone',
        'background_color': '#000000',
        'theme_color': '#8B5CF6',
        'icons': [{'src': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMDI0IDUxMnYtNTEyaC01MTJ2NTEyaDUxMloiIGZpbGw9IiM4QjVDQzYiLz48L3N2Zz4=', 'sizes': '1024x1024', 'type': 'image/svg+xml'}]
    }">
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <nav class="top-nav">
            <div class="nav-left">
                <i class="fas fa-chart-line nav-icon"></i>
                <span class="nav-title">Timetable Tracker</span>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab active" data-page="tracker">
                    <i class="fas fa-chart-bar"></i> Tracker
                </button>
                <button class="nav-tab" data-page="calendar">
                    <i class="fas fa-calendar"></i> Calendar
                </button>
                <button class="nav-tab" data-page="tasks">
                    <i class="fas fa-tasks"></i> Tasks
                </button>
            </div>
            <div class="nav-right">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="export-btn" id="exportBtn">
                    <i class="fas fa-download"></i>
                </button>
                <button class="import-btn" id="importBtn">
                    <i class="fas fa-upload"></i>
                </button>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>

        <!-- Sidebar Stats (Desktop) -->
        <div class="sidebar" id="sidebar">
            <div class="stats-card">
                <h3>Quick Stats</h3>
                <div class="stat-item">
                    <span>Yearly Progress</span>
                    <div class="progress-circle" id="yearlyProgress">0%</div>
                </div>
                <div class="stat-item">
                    <span>Current Streak</span>
                    <span class="streak" id="currentStreak">0</span>
                </div>
                <div class="stat-item">
                    <span>Tasks Done</span>
                    <span id="tasksDone">0/0</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tracker Page -->
            <div id="tracker" class="page active">
                <div class="page-header">
                    <h1>Habit Tracker</h1>
                    <div class="month-selector" id="monthSelector"></div>
                    <button class="btn-primary" id="addHabitBtn">
                        <i class="fas fa-plus"></i> Add Habit
                    </button>
                </div>
                
                <div class="habits-grid-container">
                    <div class="habits-grid" id="habitsGrid"></div>
                </div>
                
                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Monthly Progress</h3>
                        <canvas id="progressChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Overall Goal</h3>
                        <canvas id="goalChart" width="200" height="200"></canvas>
                    </div>
                </div>
            </div>

            <!-- Calendar Page -->
            <div id="calendar" class="page">
                <div class="page-header">
                    <h1>Calendar</h1>
                    <button class="btn-secondary" id="todayBtn">
                        <i class="fas fa-home"></i> Today
                    </button>
                </div>
                
                <div class="calendar-container">
                    <div class="calendar-nav">
                        <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                        <span id="currentMonth"></span>
                        <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>
                
                <div class="daily-entry" id="dailyEntry" style="display: none;">
                    <h2 id="selectedDate"></h2>
                    <div class="editor-toolbar">
                        <button type="button" id="boldBtn"><i class="fas fa-bold"></i></button>
                        <button type="button" id="italicBtn"><i class="fas fa-italic"></i></button>
                        <button type="button" id="listBtn"><i class="fas fa-list-ul"></i></button>
                    </div>
                    <div contenteditable="true" id="journalEditor" class="journal-editor"></div>
                    
                    <div class="tasks-section">
                        <h3>Today's Tasks</h3>
                        <div class="task-input-container">
                            <input type="text" id="newTaskInput" placeholder="Add task...">
                            <button id="addTaskBtn"><i class="fas fa-plus"></i></button>
                        </div>
                        <ul id="dailyTasksList" class="task-list"></ul>
                    </div>
                    <div class="entry-actions">
                        <button class="btn-primary" id="saveEntry">Save</button>
                        <button class="btn-secondary" id="clearEntry">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Tasks Page -->
            <div id="tasks" class="page">
                <div class="page-header">
                    <h1>Daily Tasks</h1>
                    <div class="task-stats">
                        <span id="taskStats">0/0</span>
                        <span class="streak-display" id="taskStreak">Streak: 0</span>
                    </div>
                </div>
                
                <div class="task-input-container">
                    <input type="text" id="taskInput" placeholder="Add new task...">
                    <button id="addTask"><i class="fas fa-plus"></i></button>
                </div>
                
                <ul id="taskList" class="task-list"></ul>
                
                <div class="pomodoro-section">
                    <div class="timer-container">
                        <div class="timer-card">
                            <h3>Study Session <span>(120 min)</span></h3>
                            <div class="timer-display" id="sessionTimer">02:00:00</div>
                            <div class="timer-controls">
                                <button id="sessionStart" class="timer-btn start">Start</button>
                                <button id="sessionPause" class="timer-btn pause" style="display:none;">Pause</button>
                                <button id="sessionReset" class="timer-btn reset">Reset</button>
                            </div>
                        </div>
                        <div class="timer-card">
                            <h3>Short Break <span>(15 min)</span></h3>
                            <div class="timer-display" id="breakTimer">00:15:00</div>
                            <div class="timer-controls">
                                <button id="breakStart" class="timer-btn start">Start</button>
                                <button id="breakPause" class="timer-btn pause" style="display:none;">Pause</button>
                                <button id="breakReset" class="timer-btn reset">Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modals -->
        <div class="modal" id="habitModal">
            <div class="modal-content">
                <h2>Add New Habit</h2>
                <input type="text" id="habitName" placeholder="Habit name...">
                <div class="modal-actions">
                    <button class="btn-primary" id="saveHabit">Add Habit</button>
                    <button class="btn-secondary" id="cancelHabit">Cancel</button>
                </div>
            </div>
        </div>

        <!-- File Import Modal -->
        <div class="modal" id="importModal">
            <div class="modal-content">
                <h2>Import Data</h2>
                <input type="file" id="importFile" accept=".json">
                <div class="modal-actions">
                    <button class="btn-primary" id="confirmImport">Import</button>
                    <button class="btn-secondary" id="cancelImport">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
